<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz de Frações</title>
  <link rel="stylesheet" href="pp.css">
</head>

<body>
  <a href="pingpong.html"><button>Voltar</button></a>
  <div id="explicacao">
    <h1>Frações</h1>
    <p>
      Fração é uma forma de representar uma parte de um todo. Ela é composta por dois números: o <strong>numerador</strong> (parte de cima) e o <strong>denominador</strong> (parte de baixo).  
      Por exemplo, na fração ¾, o numerador é 3 e o denominador é 4 — isso significa “3 partes de um total de 4”.
      Algumas regras importantes:
      <br><br>
      • Fração própria: numerador menor que o denominador. Ex: 2/5  
      • Fração imprópria: numerador maior ou igual ao denominador. Ex: 7/4  
      • Fração mista: número inteiro + fração. Ex: 2 ½  
      • Frações equivalentes: representam o mesmo valor. Ex: 1/2 = 2/4  
      • Simplificação: reduzir a fração ao menor valor possível. Ex: 6/8 = 3/4  
      • Operações com frações: soma, subtração, multiplicação e divisão seguem regras específicas.
      <br>
      Agora que você entendeu, clique no botão abaixo para testar seus conhecimentos!
    </p>

    <button id="btn-iniciar-quiz">Quiz de Frações</button>
    <div id="quiz-container"></div>
  </div>

  <script>
    document.getElementById("btn-iniciar-quiz").addEventListener("click", function () {
      iniciarQuiz();
    });

    function iniciarQuiz() {
      document.getElementById("btn-iniciar-quiz").style.display = "none";
      document.querySelector("h1").style.display = "none";
      document.querySelector("p").style.display = "none";
      document.getElementById("quiz-container").style.display = "block";

      const perguntas = [];
      for (let i = 1; i <= 15; i++) {
        const a = Math.floor(Math.random() * 9) + 1;
        const b = Math.floor(Math.random() * 9) + 1;
        const c = Math.floor(Math.random() * 9) + 1;
        const d = Math.floor(Math.random() * 9) + 1;

        const perguntaTexto = `Quanto é ${a}/${b} + ${c}/${d}?`;
        const resposta = parseFloat(((a / b) + (c / d)).toFixed(2));
        const opcoes = [
          resposta,
          parseFloat((resposta + 0.25).toFixed(2)),
          parseFloat((resposta - 0.25).toFixed(2)),
          parseFloat((resposta + 0.5).toFixed(2))
        ];

        perguntas.push({
          pergunta: perguntaTexto,
          resposta: resposta,
          opcoes: opcoes
        });
      }

      let acertos = 0;
      let perguntaAtual = 0;

      function mostrarPergunta() {
        const pergunta = perguntas[perguntaAtual];
        const opcoes = pergunta.opcoes.sort(() => Math.random() - 0.5);
        const html = `
          <p>${pergunta.pergunta}</p>
          <ul>
            ${opcoes.map(opcao => `<li><input type="radio" name="opcao" value="${opcao}">${opcao}</li>`).join('')}
          </ul>
          <button id="enviar">Enviar</button>
        `;
        document.getElementById('quiz-container').innerHTML = html;
        document.getElementById('enviar').addEventListener('click', verificarResposta);
      }

      function verificarResposta() {
        const opcaoSelecionada = parseFloat(document.querySelector('input[name="opcao"]:checked').value);
        const respostaCerta = perguntas[perguntaAtual].resposta;
        if (Math.abs(opcaoSelecionada - respostaCerta) < 0.01) {
          acertos++;
        }
        perguntaAtual++;
        if (perguntaAtual < perguntas.length) {
          mostrarPergunta();
        } else {
          mostrarResultado();
        }
      }

      function mostrarResultado() {
        const html = `
        <p>Você acertou ${acertos} perguntas.</p>
        <img id="imagem-resultado" src="${acertos < 7 ? 'ruim.jpg' : acertos <= 11 ? 'medio.jpg' : 'otimo.jpg'}" alt="Resultado">
    `;
        document.getElementById('quiz-container').innerHTML = html;

        const imagemResultado = document.getElementById('imagem-resultado');
        if (imagemResultado) {
          imagemResultado.style.width = '200px';
          imagemResultado.style.height = 'auto';
        }
      }
      mostrarPergunta();
    }
  </script>
</body>

</html>
