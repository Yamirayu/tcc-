<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz de Multiplicação Difícil</title>
  <link rel="stylesheet" href="pp.css">
</head>

<body>
  <a href="pingpong.html"><button>voltar</button></a>
  <div id="explicacao">

    <h1>Multiplicação</h1>
    <p>
      A multiplicação é uma operação matemática que representa adições repetidas.  
      Por exemplo, 4 × 3 significa somar 4 três vezes: 4 + 4 + 4 = 12.
      <br><br>
      Neste quiz, você verá multiplicações com números maiores e opções mais próximas para testar sua atenção e cálculo mental.
      <br><br>
      Exemplo: 37 × 12 = ?<br>
      Resposta: 444<br>
      Basta multiplicar os dois valores com cuidado para obter o resultado correto.
    </p>

    <button id="btn-iniciar-quiz">quiz multiplicação</button>
    <div id="quiz-container"></div>
  </div>

  <script>
    document.getElementById("btn-iniciar-quiz").addEventListener("click", function () {
      iniciarQuiz();
    });

    function iniciarQuiz() {
      document.getElementById("btn-iniciar-quiz").style.display = "none";
      document.querySelector("h1").style.display = "none";
      document.querySelector("p").style.display = "none";
      document.getElementById("quiz-container").style.display = "block";

      const perguntas = [];
      for (let i = 1; i <= 15; i++) {
        const num1 = Math.floor(Math.random() * 90) + 10; // entre 10 e 99
        const num2 = Math.floor(Math.random() * 90) + 10;
        const resposta = num1 * num2;
        perguntas.push({
          pergunta: `Quanto é ${num1} × ${num2}?`,
          resposta: resposta,
          opcoes: [
            resposta,
            resposta + Math.floor(Math.random() * 10 + 1),
            resposta - Math.floor(Math.random() * 10 + 1),
            resposta + Math.floor(Math.random() * 20 + 5)
          ]
        });
      }

      let acertos = 0;
      let perguntaAtual = 0;

      function mostrarPergunta() {
        const pergunta = perguntas[perguntaAtual];
        const opcoes = pergunta.opcoes.sort(() => Math.random() - 0.5);
        const html = `
          <p>${pergunta.pergunta}</p>
          <ul>
            ${opcoes.map(opcao => `<li><input type="radio" name="opcao" value="${opcao}">${opcao}</li>`).join('')}
          </ul>
          <button id="enviar">Enviar</button>
        `;
        document.getElementById('quiz-container').innerHTML = html;
        document.getElementById('enviar').addEventListener('click', verificarResposta);
      }

      function verificarResposta() {
        const opcaoSelecionada = document.querySelector('input[name="opcao"]:checked');
        if (!opcaoSelecionada) {
          alert("Selecione uma opção antes de continuar.");
          return;
        }
        const valor = parseInt(opcaoSelecionada.value);
        const respostaCerta = perguntas[perguntaAtual].resposta;
        if (valor === respostaCerta) {
          acertos++;
        }
        perguntaAtual++;
        if (perguntaAtual < perguntas.length) {
          mostrarPergunta();
        } else {
          mostrarResultado();
        }
      }

      function mostrarResultado() {
        const html = `
          <p>Você acertou ${acertos} perguntas.</p>
          <img id="imagem-resultado" src="${acertos < 6 ? 'ruim.jpg' : acertos <= 10 ? 'medio.jpg' : 'otimo.jpg'}" alt="Resultado">
        `;
        document.getElementById('quiz-container').innerHTML = html;

        const imagemResultado = document.getElementById('imagem-resultado');
        if (imagemResultado) {
          imagemResultado.style.width = '200px';
          imagemResultado.style.height = 'auto';
        }
      }

      mostrarPergunta();
    }
  </script>
</body>

</html>
